{"ast":null,"code":"import _classCallCheck from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";/* eslint-disable react/no-children-prop */ /* eslint-disable react/jsx-boolean-value */import React,{Component,Fragment}from'react';import'./Nav.css';import{Route,Link}from'react-router-dom';import firebase from'firebase';import Notifications,{notify}from'react-notify-toast';var MenuLink=function MenuLink(_ref){var label=_ref.label,to=_ref.to,activeOnlyWhenExact=_ref.activeOnlyWhenExact,updateNav=_ref.updateNav,className=_ref.className;return React.createElement(Route,{path:to,exact:activeOnlyWhenExact,children:function children(_ref2){var match=_ref2.match;return React.createElement(Link,{className:\"\".concat(className,\" \").concat(match?\"\".concat(className,\"_active\"):''),to:to,onClick:function onClick(){return updateNav(to);}},label);}});};var Nav=/*#__PURE__*/function(_Component){_inherits(Nav,_Component);function Nav(){var _getPrototypeOf2;var _this;_classCallCheck(this,Nav);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Nav)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleChange=function(e){var query=_this.props.query;query(e.target.value);};_this.handleKeyPress=function(e){var _this$props=_this.props,history=_this$props.history,getImgsList=_this$props.getImgsList,queryTxt=_this$props.queryTxt,initImgs=_this$props.initImgs,getSynonymList=_this$props.getSynonymList;if(e.key==='Enter'){initImgs([]);getImgsList(1,queryTxt);getSynonymList(queryTxt);history.push('/search/'+queryTxt);}};return _this;}_createClass(Nav,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this$props2=this.props,isLoadingSaveImg=_this$props2.isLoadingSaveImg,isLoadingDeleteSave=_this$props2.isLoadingDeleteSave,isLoadingDeleteCollection=_this$props2.isLoadingDeleteCollection;if(prevProps.isLoadingSaveImg===false&&isLoadingSaveImg===true){var myColor={background:\"#244091\",text:\"#FFFFFF\"};notify.show(\"Save successfully!\",\"custom\",5000,myColor);}if(prevProps.isLoadingDeleteSave===false&&isLoadingDeleteSave===true){var _myColor={background:'#0E1717',text:\"#FFFFFF\"};notify.show(\"Delete successfully!\",\"custom\",5000,_myColor);}if(prevProps.isLoadingDeleteCollection===false&&isLoadingDeleteCollection===true){var _myColor2={background:'#0E1717',text:\"#FFFFFF\"};notify.show(\"Delete successfully!\",\"custom\",5000,_myColor2);}}},{key:\"render\",value:function render(){var _this$props3=this.props,updateNav=_this$props3.updateNav,queryTxt=_this$props3.queryTxt,topSearch=_this$props3.topSearch,isAuthenticated=_this$props3.isAuthenticated;var userLinks=React.createElement(\"nav\",null,React.createElement(MenuLink,{activeOnlyWhenExact:true,to:\"/\",label:\"Home\",updateNav:updateNav,className:\"tab\"}),React.createElement(MenuLink,{to:\"/saves/photos\",label:\"My Board\",updateNav:updateNav,className:\"tab\"}));var guestLinks=React.createElement(\"nav\",null,React.createElement(MenuLink,{to:\"/login\",label:\"Login\",updateNav:updateNav,className:\"tab\"}),React.createElement(MenuLink,{to:\"/Signup\",label:\"Sign up now!\",updateNav:updateNav,className:\"tab_signup\"}));return React.createElement(Fragment,null,React.createElement(Notifications,null),React.createElement(\"div\",{className:\"nav_bar\"},React.createElement(MenuLink,{activeOnlyWhenExact:true,to:\"/\",updateNav:updateNav,className:\"tab_home\"}),topSearch&&React.createElement(\"div\",{hidden:true,className:\"top_search\"},React.createElement(\"input\",{type:\"text\",className:\"search_txt\",name:\"query\",value:queryTxt,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),React.createElement(\"i\",{className:\"fas fa-search\"})),isAuthenticated?userLinks:guestLinks));}}]);return Nav;}(Component);export default Nav;","map":{"version":3,"sources":["/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/src/components/nav/Nav.js"],"names":["React","Component","Fragment","Route","Link","firebase","Notifications","notify","MenuLink","label","to","activeOnlyWhenExact","updateNav","className","match","Nav","handleChange","e","query","props","target","value","handleKeyPress","history","getImgsList","queryTxt","initImgs","getSynonymList","key","push","prevProps","prevState","isLoadingSaveImg","isLoadingDeleteSave","isLoadingDeleteCollection","myColor","background","text","show","topSearch","isAuthenticated","userLinks","guestLinks"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-children-prop */\n/* eslint-disable react/jsx-boolean-value */\n\nimport React, { Component,Fragment }  from 'react';\nimport './Nav.css';\nimport { Route, Link } from 'react-router-dom';\nimport firebase from 'firebase';\nimport Notifications, {notify} from 'react-notify-toast';\n\nconst MenuLink = ({ label, to, activeOnlyWhenExact, updateNav,className }) => (\n  <Route\n    path={to}\n    exact={activeOnlyWhenExact}\n    children={({ match }) => (\n      <Link className={`${className} ${match ? `${className}_active` : ''}`} to={to} onClick={() => updateNav(to)}>{label}</Link>\n    )}\n  />\n);\n\nclass Nav extends Component {\n  handleChange = (e) => {\n    const {query} = this.props;\n    query(e.target.value)\n  }\n\n  handleKeyPress = (e) => {\n    const {history,getImgsList,queryTxt,initImgs,getSynonymList} = this.props;\n    if(e.key === 'Enter') {\n      initImgs([])\n      getImgsList(1, queryTxt);\n      getSynonymList(queryTxt)\n      history.push('/search/'+ queryTxt);\n    }\n  }\n\n  \n  componentDidUpdate(prevProps,prevState) {\n    const { isLoadingSaveImg,isLoadingDeleteSave,isLoadingDeleteCollection} = this.props;\n    if (prevProps.isLoadingSaveImg === false && isLoadingSaveImg === true) {\n      let myColor = { \n        background: \"#244091\", \n        text: \"#FFFFFF\",\n       };\n      notify.show(\"Save successfully!\", \"custom\", 5000, myColor);\n    }\n    if (prevProps.isLoadingDeleteSave === false && isLoadingDeleteSave === true) {\n      let myColor = { background: '#0E1717', text: \"#FFFFFF\" };\n      notify.show(\"Delete successfully!\", \"custom\", 5000, myColor);\n    }\n    if (prevProps.isLoadingDeleteCollection === false && isLoadingDeleteCollection === true) {\n      let myColor = { background: '#0E1717', text: \"#FFFFFF\" };\n      notify.show(\"Delete successfully!\", \"custom\", 5000, myColor);\n    }\n\n  }\n\n  render() {\n    const {updateNav,queryTxt,topSearch, isAuthenticated } = this.props\n\n    const userLinks = (\n      <nav>\n        <MenuLink activeOnlyWhenExact={true} to=\"/\" label=\"Home\" updateNav={updateNav} className=\"tab\"/>\n        <MenuLink to=\"/saves/photos\" label=\"My Board\" updateNav={updateNav} className=\"tab\"/>\n      </nav>\n    )\n    const guestLinks = (\n      <nav>\n        <MenuLink to=\"/login\" label=\"Login\" updateNav={updateNav} className=\"tab\"/>\n        <MenuLink to=\"/Signup\" label=\"Sign up now!\" updateNav={updateNav} className=\"tab_signup\"/>\n      </nav>\n    )\n\n    return(\n      <Fragment>\n        <Notifications />\n        <div className=\"nav_bar\">\n          <MenuLink activeOnlyWhenExact={true} to=\"/\" updateNav={updateNav} className=\"tab_home\"/>\n          {topSearch && \n          <div hidden className=\"top_search\">    \n            <input type=\"text\" className=\"search_txt\" name=\"query\"          \n              value={queryTxt}\n              onChange={this.handleChange}\n              onKeyPress={this.handleKeyPress}\n              />\n            <i className=\"fas fa-search\"></i>\n          </div>}\n          { isAuthenticated ? userLinks : guestLinks}\n        </div>\n      </Fragment>\n    )\n  }\n}\n\nexport default Nav;\n"]},"metadata":{},"sourceType":"module"}