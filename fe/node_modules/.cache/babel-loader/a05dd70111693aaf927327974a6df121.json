{"ast":null,"code":"import _classCallCheck from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";/* eslint-disable react/no-children-prop */ /* eslint-disable react/jsx-boolean-value */import React,{Component,Fragment}from'react';import'./Selector.css';import firebase from'firebase';import Loading from'../loading/Loading';export var Selector=/*#__PURE__*/function(_Component){_inherits(Selector,_Component);function Selector(props){var _this;_classCallCheck(this,Selector);_this=_possibleConstructorReturn(this,_getPrototypeOf(Selector).call(this,props));_this.handleNewSave=function(){var createName=_this.state.createName;var _this$props=_this.props,saveNewImg=_this$props.saveNewImg,previewId=_this$props.previewId,previewImg=_this$props.previewImg;var newSave={email:firebase.auth().currentUser.email,imgId:previewId,content:previewImg.urls.regular,collection:createName};if(createName!==''){saveNewImg(newSave);}};_this.handleCreate=function(e){_this.setState({createName:e.target.value});};_this.handleEditMode=function(){_this.setState({editMode:true});};_this.state={createName:'',editMode:false};return _this;}_createClass(Selector,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props2=this.props,previewId=_this$props2.previewId,getPreviewImg=_this$props2.getPreviewImg,getAllCollections=_this$props2.getAllCollections;getPreviewImg(previewId);getAllCollections(firebase.auth().currentUser.email);}},{key:\"handleSave\",value:function handleSave(collection){var _this$props3=this.props,saveNewImg=_this$props3.saveNewImg,previewId=_this$props3.previewId,previewImg=_this$props3.previewImg;var newSave={email:firebase.auth().currentUser.email,imgId:previewId,content:previewImg.urls.regular,collection:collection};saveNewImg(newSave);}},{key:\"render\",value:function render(){var _this2=this;var _this$props4=this.props,handleClose=_this$props4.handleClose,previewImg=_this$props4.previewImg,allCollections=_this$props4.allCollections;var _this$state=this.state,createName=_this$state.createName,editMode=_this$state.editMode;var editCollection=React.createElement(\"div\",{className:\"create_wrapper\"},React.createElement(\"input\",{className:\"add_input\",placeholder:\"Create a collection\",value:createName,onChange:this.handleCreate}),React.createElement(\"button\",{type:\"submit\",className:\"submit_add\",onClick:this.handleNewSave},React.createElement(\"i\",{class:\"fas fa-check\"})));return React.createElement(Fragment,null,React.createElement(\"div\",{className:\"selector_container\"},previewImg.urls&&React.createElement(\"img\",{className:\"preview_img_l\",src:previewImg.urls.regular,alt:\"\"}),React.createElement(\"div\",{class:\"edit_collect\"},React.createElement(\"div\",{className:\"selector_title\"},\"Save to Collection\"),!editMode?React.createElement(\"button\",{className:\"add_button\",onClick:this.handleEditMode},\"+ Create a new collection\"):editCollection,React.createElement(\"div\",{className:\"all_collection\"},React.createElement(\"div\",{className:\"input_title\"},\"All Collections\"),React.createElement(\"div\",{className:\"item_group_s\"},allCollections.message!=='no content'?allCollections.map(function(item,index){if(allCollections[index]){return React.createElement(\"div\",{className:\"item item_s\",onClick:function onClick(){return _this2.handleSave(item.collection);}},item.collection,React.createElement(\"img\",{className:\"preview_img_s\",src:item.content,alt:\"\"}));}}):React.createElement(Loading,null))))),React.createElement(\"div\",{className:\"selector_hover_layer\",role:\"presentation\",onClick:handleClose}));}}]);return Selector;}(Component);export default Selector;","map":{"version":3,"sources":["/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/src/components/selector/Selector.js"],"names":["React","Component","Fragment","firebase","Loading","Selector","props","handleNewSave","createName","state","saveNewImg","previewId","previewImg","newSave","email","auth","currentUser","imgId","content","urls","regular","collection","handleCreate","e","setState","target","value","handleEditMode","editMode","getPreviewImg","getAllCollections","handleClose","allCollections","editCollection","message","map","item","index","handleSave"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-children-prop */\n/* eslint-disable react/jsx-boolean-value */\n\nimport React, { Component, Fragment }  from 'react';\nimport './Selector.css';\nimport firebase from 'firebase';\nimport Loading from '../loading/Loading';\n\nexport class Selector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      createName:'',\n      editMode: false,\n    };\n  }\n  \n\n  componentDidMount(){\n    const { previewId,getPreviewImg,getAllCollections} = this.props;\n    getPreviewImg(previewId)\n    getAllCollections(firebase.auth().currentUser.email)\n\n  }\n\n\n  handleSave(collection){\n    const { saveNewImg, previewId, previewImg } = this.props;\n    const newSave = { \n      email: firebase.auth().currentUser.email,\n      imgId: previewId,\n      content: previewImg.urls.regular,\n      collection,\n    }\n    saveNewImg(newSave)\n  }\n\n  handleNewSave = () => {\n    const { createName } = this.state;\n    const { saveNewImg, previewId, previewImg } = this.props;\n    const newSave = { \n      email: firebase.auth().currentUser.email,\n      imgId: previewId,\n      content: previewImg.urls.regular,\n      collection: createName,\n    }\n    if (createName !== '') {\n      saveNewImg(newSave)\n    }\n  }\n\n  handleCreate = (e) => {\n    this.setState({\n      createName: e.target.value\n    })\n  }\n\n  handleEditMode = () => {\n    this.setState({\n      editMode: true,\n    })\n  }\n\n  render() {\n    const { handleClose,previewImg,allCollections} = this.props;\n    const { createName,editMode } = this.state;\n\n    const editCollection = (\n      <div className=\"create_wrapper\">\n        <input className=\"add_input\" placeholder=\"Create a collection\" value={createName} onChange={this.handleCreate}/>\n        <button type=\"submit\" className=\"submit_add\" onClick={this.handleNewSave}><i class=\"fas fa-check\"></i></button>\n      </div>\n    )\n    return (\n    <Fragment>\n    \t<div className=\"selector_container\">\n    \t  {previewImg.urls && <img className=\"preview_img_l\" src={previewImg.urls.regular} alt=\"\" />}\n    \t  <div class=\"edit_collect\">\n    \t    <div className=\"selector_title\">Save to Collection</div>\n            {!editMode? <button className=\"add_button\" onClick={this.handleEditMode}>+ Create a new collection</button>:editCollection}\n    \t    <div className=\"all_collection\">\n            <div className=\"input_title\">All Collections</div>\n            <div className=\"item_group_s\">\n            {allCollections.message !== 'no content' ?\n              allCollections.map((item, index) => {\n                if (allCollections[index]) {\n                  return (\n                    <div className=\"item item_s\" onClick={() => this.handleSave(item.collection)}>{item.collection}\n                      <img className=\"preview_img_s\" src={item.content} alt=\"\" />\n                    </div>\n                  )\n                }\n              })\n            :<Loading />}\n            </div>\n          </div>\n    \t  </div>\n    \t</div>\n    \t<div className=\"selector_hover_layer\" role=\"presentation\" onClick={handleClose}></div>\n    </Fragment>\n    )\n  }\n}\n\nexport default Selector\n\n"]},"metadata":{},"sourceType":"module"}