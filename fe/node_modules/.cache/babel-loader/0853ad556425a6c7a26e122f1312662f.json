{"ast":null,"code":"import _classCallCheck from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";/* jsx-a11y/no-static-element-interactions */import React,{Component,Fragment}from'react';import'./SinglePage.css';import{withRouter}from'react-router-dom';import Loading from'../loading/Loading';import Masonry from'react-masonry-css';import Fade from'react-reveal/Fade';import Selector from'../../containers/SelectorContainer';var SinglePage=/*#__PURE__*/function(_Component){_inherits(SinglePage,_Component);function SinglePage(props){var _this;_classCallCheck(this,SinglePage);_this=_possibleConstructorReturn(this,_getPrototypeOf(SinglePage).call(this,props));_this.handleHoverOut=function(){_this.setState({hoveredImg:''});};_this.handleClose=function(){_this.setState({showSelector:false});document.body.style.overflow=\"visible\";};_this.state={page:1,hoveredImg:'',previewId:'',currentImgId:_this.props.match.params.imgId};var initImgs=_this.props.initImgs;initImgs([]);return _this;}_createClass(SinglePage,[{key:\"componentDidMount\",value:function componentDidMount(){var currentImgId=this.state.currentImgId;var getSingleImg=this.props.getSingleImg;getSingleImg(currentImgId);// window.addEventListener('scroll', this.handlePageScroll);\n}// componentWillUnmount() {\n//   window.removeEventListener('scroll', this.handlePageScroll);\n// }\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var currentImgId=this.state.currentImgId;var _this$props=this.props,isLoadingSingleImg=_this$props.isLoadingSingleImg,getImgsList=_this$props.getImgsList,singleImg=_this$props.singleImg,getSingleImg=_this$props.getSingleImg,isLoadingSaveImg=_this$props.isLoadingSaveImg,initImgs=_this$props.initImgs;if(prevProps.isLoadingSingleImg===true&&isLoadingSingleImg===false){getImgsList(1,singleImg.tags[0].title);console.log(singleImg.tags[0].title);}if(prevState.currentImgId!==currentImgId){getSingleImg(currentImgId);}if(prevProps.isLoadingSaveImg===true&&isLoadingSaveImg===false){this.setState({showSelector:false});document.body.style.overflow=\"visible\";}}// handlePageScroll = () => {\n//   // 下拉加載\n//   const scrollTop = document.documentElement.scrollTop;\n//   const clientHeight = document.documentElement.clientHeight;\n//   const scrollHeight = document.documentElement.scrollHeight;\n//   if (scrollHeight-clientHeight === scrollTop) {\n//     const { page } = this.state;\n//     const { getImgsList,singleImg,isLoadingGetImgs} = this.props;\n//     if(!isLoadingGetImgs && singleImg.tags){\n//       getImgsList(page + 1,singleImg.tags[0].title)\n//       this.setState((prevState) => ({\n//         page: prevState.page + 1,\n//       }))\n//     }\n//   }\n// }\n},{key:\"handleHoverOver\",value:function handleHoverOver(id){this.setState({hoveredImg:id});}},{key:\"handleSumbit\",value:function handleSumbit(id){var history=this.props.history;this.setState({currentImgId:id});history.push(\"/images/\".concat(id));}},{key:\"handleSelector\",value:function handleSelector(id){this.setState({previewId:id,showSelector:true});document.body.style.overflow=\"hidden\";}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,page=_this$state.page,hasMore=_this$state.hasMore,previewId=_this$state.previewId,showSelector=_this$state.showSelector,hoveredImg=_this$state.hoveredImg,createName=_this$state.createName,editMode=_this$state.editMode;var _this$props2=this.props,singleImg=_this$props2.singleImg,isLoadingSingleImg=_this$props2.isLoadingSingleImg,history=_this$props2.history,imgs=_this$props2.imgs,isLoadingGetImgs=_this$props2.isLoadingGetImgs,isAuthenticated=_this$props2.isAuthenticated,totalPage=_this$props2.totalPage;var breakpointColumnsObj={default:4,1100:2,700:1};var singlePhoto=React.createElement(Fragment,null,!isLoadingSingleImg&&singleImg.urls?React.createElement(\"div\",{className:\"single_container\"},React.createElement(\"img\",{className:\"single_img\",src:singleImg.urls.regular,alt:\"\"}),React.createElement(\"div\",{className:\"single_info\"},React.createElement(\"button\",{className:\"save_button_dark\",onClick:isAuthenticated?function(){return _this2.handleSelector(singleImg.id);}:function(){return history.push('/login');}},React.createElement(\"i\",{class:\"fas fa-plus\"})),React.createElement(\"div\",{class:\"tag_group\"},React.createElement(\"p\",{className:\"subtitle\"},\"Uploaded by\"),React.createElement(\"div\",{className:\"creater\"},React.createElement(\"img\",{className:\"create_profile\",src:singleImg.user.profile_image.medium,alt:\"\"}),React.createElement(\"p\",{className:\"creater_name\"},singleImg.user.name)),React.createElement(\"p\",{className:\"subtitle\"},\"Related tags\"),React.createElement(\"ul\",null,singleImg.tags.map(function(item,index){if(index>0&&index<7&&singleImg.tags[index]){return React.createElement(\"li\",{className:\"single_tag\",style:{backgroundColor:[singleImg.color]},onClick:function onClick(){return history.push(\"/search/\".concat(singleImg.tags[index].title));}},singleImg.tags[index].title);}}))))):React.createElement(Loading,null));var relatedImg=React.createElement(\"ul\",{className:\"related_images\"},React.createElement(Masonry,{breakpointCols:breakpointColumnsObj,className:\"my-masonry-grid\",columnClassName:\"my-masonry-grid_column\"},imgs.map(function(item,index){if(imgs[index]){return React.createElement(\"div\",{className:\"outter\",onMouseOver:function onMouseOver(){return _this2.handleHoverOver(imgs[index].id);},onMouseOut:_this2.handleHoverOut},React.createElement(\"button\",{className:hoveredImg===imgs[index].id?'save_button':'hide_style',onClick:isAuthenticated?function(){return _this2.handleSelector(imgs[index].id);}:function(){return history.push('/login');}},React.createElement(\"i\",{class:\"fas fa-plus\"})),React.createElement(Fade,{bottom:true,duration:600},React.createElement(\"li\",{key:imgs[index].id,role:\"presentation\",onClick:function onClick(){return _this2.handleSumbit(imgs[index].id);}},React.createElement(\"div\",{className:hoveredImg===imgs[index].id?'hover_layer':'hide_style'}),React.createElement(\"img\",{src:imgs[index].urls.regular,alt:\"\"}))));}})));return React.createElement(Fragment,null,showSelector&&React.createElement(Selector,{showSelector:true,previewId:previewId,handleClose:this.handleClose}),React.createElement(\"div\",{className:\"container\"},singlePhoto,relatedImg));}}]);return SinglePage;}(Component);export default withRouter(SinglePage);","map":{"version":3,"sources":["/Users/Lingo/Rong/JavaScript/26_portfolio/gaze_project/gaze/src/components/singlePage/SinglePage.js"],"names":["React","Component","Fragment","withRouter","Loading","Masonry","Fade","Selector","SinglePage","props","handleHoverOut","setState","hoveredImg","handleClose","showSelector","document","body","style","overflow","state","page","previewId","currentImgId","match","params","imgId","initImgs","getSingleImg","prevProps","prevState","isLoadingSingleImg","getImgsList","singleImg","isLoadingSaveImg","tags","title","console","log","id","history","push","hasMore","createName","editMode","imgs","isLoadingGetImgs","isAuthenticated","totalPage","breakpointColumnsObj","default","singlePhoto","urls","regular","handleSelector","user","profile_image","medium","name","map","item","index","backgroundColor","color","relatedImg","handleHoverOver","handleSumbit"],"mappings":"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","sourcesContent":["/* jsx-a11y/no-static-element-interactions */\n\nimport React, { Component, Fragment } from 'react';\nimport './SinglePage.css';\nimport { withRouter } from 'react-router-dom';\nimport Loading from '../loading/Loading';\nimport Masonry from 'react-masonry-css';\nimport Fade from 'react-reveal/Fade';\nimport Selector from '../../containers/SelectorContainer'\n\nclass SinglePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      hoveredImg: '',\n      previewId:'',\n      currentImgId: this.props.match.params.imgId,\n    };\n    const {initImgs } = this.props;\n    initImgs([]);\n  }\n\n  componentDidMount() {\n    const { currentImgId } = this.state;\n    const { getSingleImg, } = this.props;\n    getSingleImg(currentImgId );\n    // window.addEventListener('scroll', this.handlePageScroll);\n  }\n\n  // componentWillUnmount() {\n  //   window.removeEventListener('scroll', this.handlePageScroll);\n  // }\n\n  componentDidUpdate(prevProps,prevState) {\n    const { currentImgId } = this.state;\n    const { isLoadingSingleImg,getImgsList,singleImg,getSingleImg,isLoadingSaveImg,initImgs } = this.props;\n    if (prevProps.isLoadingSingleImg === true && isLoadingSingleImg === false) {\n      getImgsList(1,singleImg.tags[0].title)\n      console.log(singleImg.tags[0].title);\n    }\n    if (prevState.currentImgId !== currentImgId) {\n      getSingleImg(currentImgId );\n    }\n    if (prevProps.isLoadingSaveImg === true && isLoadingSaveImg === false) {\n      this.setState({\n        showSelector:false,\n      })\n      document.body.style.overflow = \"visible\"\n    }\n  }\n\n  // handlePageScroll = () => {\n  //   // 下拉加載\n  //   const scrollTop = document.documentElement.scrollTop;\n  //   const clientHeight = document.documentElement.clientHeight;\n  //   const scrollHeight = document.documentElement.scrollHeight;\n  //   if (scrollHeight-clientHeight === scrollTop) {\n  //     const { page } = this.state;\n  //     const { getImgsList,singleImg,isLoadingGetImgs} = this.props;\n  //     if(!isLoadingGetImgs && singleImg.tags){\n  //       getImgsList(page + 1,singleImg.tags[0].title)\n  //       this.setState((prevState) => ({\n  //         page: prevState.page + 1,\n  //       }))\n  //     }\n  //   }\n  // }\n\n  handleHoverOver(id){\n    this.setState({\n      hoveredImg: id,\n    })\n  }\n\n  handleHoverOut = () => {\n    this.setState({\n      hoveredImg: ''\n    })\n  }\n\n  handleSumbit(id) {\n    const {history} =  this.props\n    this.setState({\n      currentImgId: id,\n    })\n    history.push(`/images/${id}`)\n  }\n\n  handleSelector(id){\n    this.setState({\n      previewId: id,\n      showSelector: true,\n    })\n    document.body.style.overflow = \"hidden\"\n  }\n\n  handleClose = () => {\n    this.setState({\n      showSelector:false,\n    })\n    document.body.style.overflow = \"visible\"\n  }\n\n\n\n  render() {\n    const { page,hasMore,previewId,showSelector,hoveredImg,createName,editMode} = this.state;\n\n    const { singleImg, isLoadingSingleImg,history,imgs,isLoadingGetImgs,isAuthenticated,totalPage }= this.props;\n    const breakpointColumnsObj = {\n      default: 4,\n      1100: 2,\n      700: 1\n    };\n    \n    const singlePhoto = (\n      <Fragment>\n        {!isLoadingSingleImg && singleImg.urls ?\n          <div className=\"single_container\">\n            <img className=\"single_img\" src={singleImg.urls.regular} alt=\"\"/>\n            <div className=\"single_info\">\n              <button className='save_button_dark' onClick={isAuthenticated ? () => this.handleSelector(singleImg.id) : ()=> history.push('/login')}><i class=\"fas fa-plus\"></i></button>\n              <div class=\"tag_group\">\n                <p className=\"subtitle\">Uploaded by</p>\n                <div className=\"creater\">\n                  <img className=\"create_profile\" src={singleImg.user.profile_image.medium} alt=\"\" />\n                  <p className=\"creater_name\">{singleImg.user.name}</p>\n                </div>\n                <p className=\"subtitle\">Related tags</p>\n                <ul>\n                  {singleImg.tags.map((item, index) => {\n                      if ( index > 0 && index < 7  && singleImg.tags[index]) {\n                        return (\n                          <li className=\"single_tag\" style={{ backgroundColor: [singleImg.color]}}\n                          onClick={() => history.push(`/search/${singleImg.tags[index].title}`)}>{singleImg.tags[index].title}</li>\n                        )\n                      }\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n          </div>\n        : <Loading />}\n      </Fragment>\n    );\n\n    const relatedImg = (\n      <ul className=\"related_images\">\n        <Masonry\n          breakpointCols={breakpointColumnsObj}\n          className=\"my-masonry-grid\"\n          columnClassName=\"my-masonry-grid_column\"\n        >\n          {imgs.map((item, index) => {\n            if (imgs[index]) {\n              return (\n                <div className=\"outter\"                           \n                  onMouseOver={() => this.handleHoverOver(imgs[index].id)}\n                  onMouseOut={this.handleHoverOut}\n                >\n                  <button className={hoveredImg === imgs[index].id? 'save_button':'hide_style'} \n                  onClick={isAuthenticated ? () => this.handleSelector(imgs[index].id) : ()=> history.push('/login')}><i class=\"fas fa-plus\"></i></button>\n\n                  <Fade bottom duration={600} >\n                    <li key={imgs[index].id} role=\"presentation\" \n                    onClick={() => this.handleSumbit(imgs[index].id)}>\n                      <div className={hoveredImg === imgs[index].id? 'hover_layer':'hide_style'}></div>\n                      <img src={imgs[index].urls.regular} alt=\"\" />\n                    </li>\n                  </Fade>\n                </div>\n              );\n            }\n          })}\n        </Masonry>\n      </ul>\n    )\n    \n    return (\n      <Fragment>\n        {showSelector && <Selector showSelector = {true}  previewId={previewId} \n        handleClose={this.handleClose}/>}\n        <div className=\"container\">\n          {singlePhoto}\n          {relatedImg}\n        </div>\n      </Fragment>\n    );\n  }\n}\nexport default withRouter(SinglePage);\n"]},"metadata":{},"sourceType":"module"}