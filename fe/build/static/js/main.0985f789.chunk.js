(this.webpackJsonpgaze=this.webpackJsonpgaze||[]).push([[0],{51:function(e,t,a){e.exports=a(92)},60:function(e,t,a){},61:function(e,t,a){},66:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(26),s=a.n(i),r=a(9),l=a(24),c=a(45),u=a(6),m=a(7),d=a(10),h=a(8),p=a(11),g=(a(60),a(12)),v=a(21),f=(a(61),a(28)),E=a.n(f),y=function(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact,i=e.updateNav,s=e.className;return o.a.createElement(v.a,{path:a,exact:n,children:function(e){var n=e.match;return o.a.createElement(g.b,{className:"".concat(s," ").concat(n?"".concat(s,"_active"):""),to:a,onClick:function(){return i(a)}},t)}})},S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){(0,a.props.query)(e.target.value)},a.handleKeyPress=function(e){var t=a.props,n=t.history,o=t.getImgsList,i=t.queryTxt,s=t.initImgs,r=t.getSynonymList;"Enter"===e.key&&(s([]),o(1,i),r(i),n.push("/search/"+i))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.isLoadingSaveImg,o=a.isLoadingDeleteSave,i=a.isLoadingDeleteCollection;if(!1===e.isLoadingSaveImg&&!0===n){f.notify.show("Saved successfully!","custom",2e3,{background:"#d6bb8b",text:"#FFFFFF"})}if(!1===e.isLoadingDeleteSave&&!0===o){f.notify.show("Deleted successfully","custom",2e3,{background:"#d6bb8b",text:"#FFFFFF"})}if(!1===e.isLoadingDeleteCollection&&!0===i){f.notify.show("Deleted successfully","custom",2e3,{background:"#d6bb8b",text:"#FFFFFF"})}}},{key:"render",value:function(){var e=this.props,t=e.updateNav,a=e.queryTxt,i=e.topSearch,s=e.isAuthenticated,r=o.a.createElement("nav",null,o.a.createElement(y,{activeOnlyWhenExact:!0,to:"/",label:"Home",updateNav:t,className:"tab"}),o.a.createElement(y,{to:"/saves/photos",label:"My Board",updateNav:t,className:"tab"})),l=o.a.createElement("nav",null,o.a.createElement(y,{to:"/login",label:"Login",updateNav:t,className:"tab"}),o.a.createElement(y,{to:"/Signup",label:"Sign up now!",updateNav:t,className:"tab_signup"}));return o.a.createElement(n.Fragment,null,o.a.createElement(E.a,null),o.a.createElement("div",{className:"nav_bar"},o.a.createElement(y,{activeOnlyWhenExact:!0,to:"/",updateNav:t,className:"tab_home"}),i&&o.a.createElement("div",{hidden:!0,className:"top_search"},o.a.createElement("input",{type:"text",className:"search_txt",name:"query",value:a,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),o.a.createElement("i",{className:"fas fa-search"})),s?r:l))}}]),t}(n.Component),b="UPDATE_NAV",I="INIT_IMGS",L="QUERY",N="GET_IMGS_PENDING",_="GET_IMGS_FULFILLED",C="GET_RANDOM_IMGS_PENDING",O="GET_RANDOM_IMGS_FULFILLED",w="GET_SYNNONYM_PENDING",A="GET_SYNNONYM_FULFILLED",j="SHOW_TOP_SEARCH",D="GET_SINGLE_IMG_PENDING",k="GET_SINGLE_IMG_FULFILLED",T="IS_LOGGEDIN",P="ALL_COLLECTIONS_PENDING",x="ALL_COLLECTIONS_FULFILLED",G="SAVE_IMG_PENDING",M="SAVE_IMG_FULFILLED",F="ALL_SAVES_PENDING",U="ALL_SAVES_FULFILLED",q="DELETE_SAVE_PENDING",R="DELETE_SAVE_FULFILLED",H="COLLECTION_SAVES_PENDING",V="COLLECTION_SAVES_FULFILLED",B="GET_PREVIEW_IMG_PENDING",z="GET_PREVIEW_IMG_FULFILLED",W="DELETE_COLLECTION_PENDING",Y="DELETE_COLLECTION_FULFILLED",K=function(e,t){return fetch("https://api.unsplash.com/search/photos?client_id=773741e75ba8c52b7d3d825cd4c33cf637a1f77a7fe0f64109e4f5bdd35e22ad&query=".concat(t,"&per_page=30&page=").concat(e)).then(function(e){return e.json()})},J=function(e){return fetch("https://api.unsplash.com/photos/?client_id=773741e75ba8c52b7d3d825cd4c33cf637a1f77a7fe0f64109e4f5bdd35e22ad&per_page=30&order_by=popular&page=".concat(e)).then(function(e){return e.json()})},Z=function(e){return fetch("https://words.bighugelabs.com/api/2/55fd0122831fdaadd4c00e498f7a1b73/".concat(e,"/json")).then(function(e){return e.json()}).then(function(e){return void 0!==e.noun?e.noun.syn:void 0!==e.adjective?e.adjective.syn:null})},$=function(e){return fetch("https://api.unsplash.com/photos/".concat(e,"?client_id=773741e75ba8c52b7d3d825cd4c33cf637a1f77a7fe0f64109e4f5bdd35e22ad")).then(function(e){return e.json()})},Q=function(e){return fetch("https://joandes.com/Gaze/api/allCollections.php?email=".concat(e)).then(function(e){return e.json()})},X=function(e){return fetch("https://joandes.com/Gaze/api/saves.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},ee=function(e){return fetch("https://joandes.com/Gaze/api/saves.php?email=".concat(e)).then(function(e){return e.json()})},te=function(e,t){return fetch("https://joandes.com/Gaze/api/collection.php?email=".concat(e,"&collection=").concat(t)).then(function(e){return e.json()})},ae=function(e){return{type:L,value:e}},ne=function(e){return{type:I,value:e}},oe=function(e,t){return{type:"GET_IMGS",payload:K(e,t)}},ie=function(e){return{type:"GET_SYNNONYM",payload:Z(e)}},se=function(e){return{type:j,value:e}},re=function(e){return{type:"GET_SINGLE_IMG",payload:$(e)}},le=function(e){return{type:T,value:e}},ce=function(e){return{type:"ALL_COLLECTIONS",payload:Q(e)}},ue=function(e){return{type:"DELETE_SAVE",payload:(t=e,fetch("https://joandes.com/Gaze/api/saves.php",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}))};var t},me=Object(v.e)(Object(r.b)(function(e){return{navText:e.nav.navText,queryTxt:e.posts.queryTxt,topSearch:e.posts.topSearch,isAuthenticated:e.posts.isAuthenticated,isLoadingSaveImg:e.posts.isLoadingSaveImg,isLoadingDeleteSave:e.posts.isLoadingDeleteSave,isLoadingDeleteCollection:e.posts.isLoadingDeleteCollection}},function(e){return{updateNav:function(t){return e(function(e){return{type:b,value:e}}(t))},query:function(t){return e(ae(t))},getImgsList:function(t,a){e(oe(t,a))},getSynonymList:function(t){e(ie(t))},initImgs:function(t){e(ne(t))},showTopSearch:function(t){e(se(t))},isLoggedIn:function(t){e(le(t))}}})(function(e){return o.a.createElement(S,e)})),de=(a(66),a(4)),he=a.n(de),pe=a(48),ge=a.n(pe),ve=a(22),fe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:"",hasEmailError:!1,hasPasswordError:!1,errorMsg:""},a.uiConfig={signInFlow:"popup",signInOptions:[he.a.auth.GoogleAuthProvider.PROVIDER_ID,he.a.auth.FacebookAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.hasEmailError,o=t.hasPasswordError,i=t.email,s=t.password;n||o||""===i||""===s||he.a.auth().signInWithEmailAndPassword(i,s).catch(function(e){""!==e&&a.setState({email:"",password:"",hasEmailError:!0,hasPasswordError:!0,errorMsg:"Your email or password is not correct."})})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.isLoggedIn;he.a.auth().onAuthStateChanged(function(t){e(!!t)})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.isAuthenticated;!1===e.isAuthenticated&&!0===a&&this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.hasEmailError,i=t.password,s=t.hasPasswordError,r=t.errorMsg;return o.a.createElement("div",{className:"login_container"},o.a.createElement("div",{className:"login_title"},"Great to see you again!"),o.a.createElement("div",{class:"con"},o.a.createElement(ge.a,{uiConfig:this.uiConfig,firebaseAuth:he.a.auth()})),o.a.createElement("p",null,"or"),o.a.createElement("form",null,""!==r?o.a.createElement("div",{className:"errorMsg "},o.a.createElement("i",{class:"fas fa-exclamation-circle"}),r):"",o.a.createElement("div",{className:"text_field"},o.a.createElement("div",{className:"".concat(""===a?"input_hide":"input_title")},"Email"),o.a.createElement(ve.Textbox,{attributesInput:{className:"input_field  ".concat(n?"input_empt":""),placeholder:"Place your email here",type:"text"},onChange:function(t,a){e.setState({email:t})},onBlur:function(e){},validationCallback:function(t){return e.setState({hasEmailError:t})},value:a,validationOption:{name:"Email",check:!0,required:!0,customFunc:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?(e.setState({hasEmailError:!1}),!0):(e.setState({hasEmailError:!0}),"Ivalid email address")}}})),o.a.createElement("div",{className:"text_field"},o.a.createElement("div",{className:"".concat(""===i?"input_hide":"input_title")},"Password"),o.a.createElement(ve.Textbox,{attributesInput:{className:"input_field  ".concat(s?"input_empt":""),placeholder:"Place your password here (min. 6 char)",type:"password"},onChange:function(t,a){e.setState({password:t})},onBlur:function(e){},validationCallback:function(t){return e.setState({hasPasswordError:t})},value:i,validationOption:{name:"Password",check:!0,required:!0,customFunc:function(t){return String(t).match(/^\w{6,}$/)?(e.setState({hasPasswordError:!1}),!0):(e.setState({hasPasswordError:!0}),"Password cannot less than 6")}}})),o.a.createElement("button",{type:"submit",className:"mid_button ".concat(""===a||""===i||n||s?"disable_button":"common_button"),onClick:this.handleSubmit},"Submit")),o.a.createElement("p",null,"No account yet? ",o.a.createElement(g.b,{className:"note_button",to:"/signup"},"Sign up")))}}]),t}(n.Component),Ee=Object(v.e)(Object(r.b)(function(e){return{isAuthenticated:e.posts.isAuthenticated}},function(e){return{isLoggedIn:function(t){e(le(t))}}})(function(e){return o.a.createElement(fe,e)})),ye=(a(83),a(84),a(85),function(){return o.a.createElement("div",{className:"load"},o.a.createElement("svg",{className:"spinner",width:"50px",height:"50px",viewBox:"0 0 88 88",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("circle",{className:"path",fill:"none",strokeWidth:"10",strokeLinecap:"round",cx:"44",cy:"44",r:"30"})))}),Se=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleChange=function(e){(0,a.props.query)(e.target.value)},a.handleKeyPress=function(e){var t=a.props,n=t.history,o=t.queryTxt,i=t.handleSearchTxt;"Enter"===e.key&&(i(o),n.push("/search/"+o))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleSyn",value:function(e){(0,this.props.query)(e);var t=this.props,a=t.history;(0,t.handleSearchTxt)(e),a.push("/search/"+e)}},{key:"render",value:function(){var e,t=this,a=this.props,i=a.queryTxt,s=a.syn;return e=""!==i?void 0===s?"":s.map(function(e,a){if(a<6)return o.a.createElement(n.Fragment,null,o.a.createElement("li",{className:"synonum",onClick:function(){return t.handleSyn(e)}},e))}):o.a.createElement(n.Fragment,null,o.a.createElement("li",{className:"synonum",onClick:function(){return t.handleSyn("animal")}},"animal"),o.a.createElement("li",{className:"synonum",onClick:function(){return t.handleSyn("texture")}},"texture"),o.a.createElement("li",{className:"synonum",onClick:function(){return t.handleSyn("fashion")}},"fashion"),o.a.createElement("li",{className:"synonum",onClick:function(){return t.handleSyn("nature")}},"nature"),o.a.createElement("li",{className:"synonum",onClick:function(){return t.handleSyn("architecture")}},"architecture"),o.a.createElement("li",{className:"synonum",onClick:function(){return t.handleSyn("food")}},"food")),o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"search_bar"},o.a.createElement("input",{type:"text",className:"search_input",name:"query",placeholder:"Search...",value:i,onChange:this.handleChange,onKeyPress:this.handleKeyPress})),o.a.createElement("ul",{className:"syn_group"},e))}}]),t}(n.Component),be=a(20),Ie=a.n(be),Le=a(33),Ne=a.n(Le),_e=(a(88),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleNewSave=function(){var e=a.state.createName,t=a.props,n=t.saveNewImg,o=t.previewId,i=t.previewImg,s={email:he.a.auth().currentUser.email,imgId:o,content:i.urls.regular,collection:e};""!==e&&n(s)},a.handleCreate=function(e){a.setState({createName:e.target.value})},a.handleEditMode=function(){a.setState({editMode:!0})},a.state={createName:"",editMode:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.previewId,a=e.getPreviewImg,n=e.getAllCollections;a(t),n(he.a.auth().currentUser.email)}},{key:"handleSave",value:function(e){var t=this.props,a=t.saveNewImg,n=t.previewId,o=t.previewImg;a({email:he.a.auth().currentUser.email,imgId:n,content:o.urls.regular,collection:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleClose,i=t.previewImg,s=t.allCollections,r=this.state,l=r.createName,c=r.editMode,u=o.a.createElement("div",{className:"create_wrapper"},o.a.createElement("input",{className:"add_input",placeholder:"Create a collection",value:l,onChange:this.handleCreate}),o.a.createElement("button",{type:"submit",className:"submit_add",onClick:this.handleNewSave},o.a.createElement("i",{class:"fas fa-check"})));return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"selector_container"},i.urls?o.a.createElement("img",{className:"preview_img_l",src:i.urls.regular,alt:""}):o.a.createElement("div",{className:"preview_img_l"},o.a.createElement(ye,null)),o.a.createElement("div",{class:"edit_collect"},o.a.createElement("div",{className:"selector_title"},"Save to Collection"),c?u:o.a.createElement("button",{className:"add_button",onClick:this.handleEditMode},"+ Create a new collection"),o.a.createElement("div",{className:"all_collection"},o.a.createElement("div",{className:"input_title"},"All Collections"),o.a.createElement("div",{className:"item_group_s"},"no content"!==s.message?s.map(function(t,a){if(s[a])return o.a.createElement("div",{className:"item item_s",onClick:function(){return e.handleSave(t.collection)}},t.collection,o.a.createElement("img",{className:"preview_img_s",src:t.content,alt:""}))}):o.a.createElement(ye,null))))),o.a.createElement("div",{className:"selector_hover_layer",role:"presentation",onClick:a}))}}]),t}(n.Component)),Ce=Object(v.e)(Object(r.b)(function(e){return{allCollections:e.posts.allCollections,isLoadingAllCollections:e.posts.isLoadingAllCollections,isLoadingSaveImg:e.posts.isLoadingSaveImg,isLoadingPreviewImg:e.posts.isLoadingPreviewImg,previewImg:e.posts.previewImg}},function(e){return{getAllCollections:function(t){e(ce(t))},saveNewImg:function(t){e(function(e){return{type:"SAVE_IMG",payload:X(e)}}(t))},getPreviewImg:function(t){e(function(e){return{type:"GET_PREVIEW_IMG",payload:$(e)}}(t))}}})(function(e){return o.a.createElement(_e,e)})),Oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSearchTxt=function(e){a.setState({searchTxt:e})},a.handleScroll=function(){var e=a.props.showTopSearch;document.documentElement.scrollTop>250?e(!0):e(!1);var t=document.documentElement.scrollTop,n=document.documentElement.clientHeight;if(document.documentElement.scrollHeight-n===t){var o=a.state.page,i=a.props,s=i.getImgsList,r=i.queryTxt,l=i.getRandomImgs,c=i.totalPage,u=i.isLoadingRandomImgs,m=i.isLoadingGetImgs;0!==c&&o!==c&&(""===r?u||(l(o+1),a.setState(function(e){return{page:e.page+1}})):m||(s(o+1,r),a.setState(function(e){return{page:e.page+1}})))}},a.handleHoverOut=function(){a.setState({hoveredImg:""})},a.handleClose=function(){a.setState({showSelector:!1}),document.body.style.overflow="visible"},a.state={page:1,hoveredImg:"",previewId:"",searchTxt:void 0===a.props.match.params.query?"":a.props.match.params.query},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getImgsList,a=e.query,n=e.getRandomImgs,o=e.getSynonymList,i=e.initImgs,s=e.showTopSearch,r=this.state.page;window.addEventListener("scroll",this.handleScroll),s(!1),void 0!==this.props.match.params.query?(i([]),a(this.props.match.params.query),o(this.props.match.params.query),t(r,this.props.match.params.query)):(a(""),i([]),n(r))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.isLoadingSaveImg,o=a.getImgsList,i=a.query,s=a.getSynonymList,r=a.initImgs,l=this.state,c=l.page,u=l.searchTxt;!0===e.isLoadingSaveImg&&!1===n&&(this.setState({showSelector:!1}),document.body.style.overflow="visible"),t.searchTxt!==u&&(r([]),i(u),s(u),o(c,u))}},{key:"handleHoverOver",value:function(e){this.setState({hoveredImg:e})}},{key:"handleSelector",value:function(e){this.setState({previewId:e,showSelector:!0}),document.body.style.overflow="hidden"}},{key:"render",value:function(){var e=this,t=this.state,a=t.page,i=t.previewId,s=t.showSelector,r=t.hoveredImg,l=this.props,c=l.history,u=l.imgs,m=l.query,d=l.queryTxt,h=l.getImgsList,p=l.initImgs,g=l.syn,v=l.isLoadingSynonym,f=l.getSynonymList,E=l.isAuthenticated,y=l.totalPage;return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"container"},s&&o.a.createElement(Ce,{showSelector:!0,previewId:i,handleClose:this.handleClose}),o.a.createElement(Se,{query:m,queryTxt:d,getImgsList:h,page:a,initImgs:p,history:c,syn:g,isLoadingSynonym:v,getSynonymList:f,handleSearchTxt:this.handleSearchTxt}),u?o.a.createElement("ul",null,o.a.createElement(Ie.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},u.map(function(t,a){if(a>0&&u[a])return o.a.createElement("div",{className:"outter",onMouseOver:function(){return e.handleHoverOver(u[a].id)},onMouseOut:e.handleHoverOut},o.a.createElement("button",{className:r===u[a].id?"save_button":"hide_style",onClick:E?function(){return e.handleSelector(u[a].id)}:function(){return c.push("/login")}},o.a.createElement("i",{class:"fas fa-plus"})),o.a.createElement(Ne.a,{bottom:!0,duration:600},o.a.createElement("li",{key:u[a].id,role:"presentation",onClick:function(){return c.push("/images/".concat(u[a].id))}},o.a.createElement("div",{className:r===u[a].id?"hover_layer":"hide_style"}),o.a.createElement("img",{src:u[a].urls.regular,alt:""}))))})),0===y&&o.a.createElement("div",{className:"empt_notice"},"No results found, please try different keyword."),a===y&&o.a.createElement("div",{className:"empt_notice"},"".concat(a," / ").concat(y))):o.a.createElement(ye,null)))}}]),t}(n.Component),we=Object(v.e)(Object(r.b)(function(e){return{isLoadingGetImgs:e.posts.isLoadingGetImgs,isLoadingRandomImgs:e.posts.isLoadingRandomImgs,imgs:e.posts.imgs,totalPage:e.posts.totalPage,queryTxt:e.posts.queryTxt,isLoadingSynonym:e.posts.isLoadingSynonym,syn:e.posts.syn,topSearch:e.posts.topSearch,isAuthenticated:e.posts.isAuthenticated,singleImg:e.posts.singleImg,isLoadingSaveImg:e.posts.isLoadingSaveImg,isLoadingSingleImg:e.posts.isLoadingSingleImg}},function(e){return{getImgsList:function(t,a){e(oe(t,a))},getRandomImgs:function(t){e(function(e){return{type:"GET_RANDOM_IMGS",payload:J(e)}}(t))},getSynonymList:function(t){e(ie(t))},initImgs:function(t){e(ne(t))},query:function(t){return e(ae(t))},showTopSearch:function(t){e(se(t))},getSingleImg:function(t){e(re(t))}}})(function(e){return o.a.createElement(Oe,e)})),Ae=(a(89),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleHoverOut=function(){a.setState({hoveredImg:""})},a.handleClose=function(){a.setState({showSelector:!1}),document.body.style.overflow="visible"},a.state={hoveredImg:"",previewId:"",currentImgId:a.props.match.params.imgId},(0,a.props.initImgs)([]),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.currentImgId;(0,this.props.getSingleImg)(e)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.currentImgId,n=this.props,o=n.isLoadingSingleImg,i=n.getImgsList,s=n.singleImg,r=(n.getSingleImg,n.isLoadingSaveImg);n.initImgs;!0===e.isLoadingSingleImg&&!1===o&&(window.scrollTo(0,0),i(1,s.tags[0].title)),t.currentImgId!==a&&window.location.reload(),!0===e.isLoadingSaveImg&&!1===r&&(this.setState({showSelector:!1}),document.body.style.overflow="visible")}},{key:"handleHoverOver",value:function(e){this.setState({hoveredImg:e})}},{key:"handleSumbit",value:function(e){var t=this.props.history;this.setState({currentImgId:e}),t.push("/images/".concat(e))}},{key:"handleSelector",value:function(e){this.setState({previewId:e,showSelector:!0}),document.body.style.overflow="hidden"}},{key:"render",value:function(){var e=this,t=this.state,a=(t.page,t.hasMore,t.previewId),i=t.showSelector,s=t.hoveredImg,r=(t.createName,t.editMode,this.props),l=r.singleImg,c=r.isLoadingSingleImg,u=r.history,m=r.imgs,d=(r.isLoadingGetImgs,r.isAuthenticated),h=(r.totalPage,o.a.createElement(n.Fragment,null,!c&&l.urls?o.a.createElement("div",{className:"single_container"},o.a.createElement("img",{className:"single_img",src:l.urls.regular,alt:""}),o.a.createElement("div",{className:"single_info"},o.a.createElement("button",{className:"save_button_dark",onClick:d?function(){return e.handleSelector(l.id)}:function(){return u.push("/login")}},o.a.createElement("i",{class:"fas fa-plus"})),o.a.createElement("div",{class:"tag_group"},o.a.createElement("p",{className:"subtitle"},"Uploaded by"),o.a.createElement("div",{className:"creater"},o.a.createElement("img",{className:"create_profile",src:l.user.profile_image.medium,alt:""}),o.a.createElement("p",{className:"creater_name"},l.user.name)),o.a.createElement("p",{className:"subtitle"},"Related tags"),o.a.createElement("ul",null,l.tags.map(function(e,t){if(t>0&&t<7&&l.tags[t])return o.a.createElement("li",{className:"single_tag",style:{backgroundColor:[l.color]},onClick:function(){return u.push("/search/".concat(l.tags[t].title))}},l.tags[t].title)}))))):o.a.createElement(ye,null))),p=o.a.createElement("ul",{className:"related_images"},o.a.createElement(Ie.a,{breakpointCols:{default:4,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},m?m.map(function(t,a){if(m[a])return o.a.createElement("div",{className:"outter",onMouseOver:function(){return e.handleHoverOver(m[a].id)},onMouseOut:e.handleHoverOut},o.a.createElement("button",{className:s===m[a].id?"save_button":"hide_style",onClick:d?function(){return e.handleSelector(m[a].id)}:function(){return u.push("/login")}},o.a.createElement("i",{class:"fas fa-plus"})),o.a.createElement(Ne.a,{bottom:!0,duration:600},o.a.createElement("li",{key:m[a].id,role:"presentation",onClick:function(){return e.handleSumbit(m[a].id)}},o.a.createElement("div",{className:s===m[a].id?"hover_layer":"hide_style"}),o.a.createElement("img",{src:m[a].urls.regular,alt:""}))))}):o.a.createElement(ye,null)));return o.a.createElement(n.Fragment,null,i&&o.a.createElement(Ce,{showSelector:!0,previewId:a,handleClose:this.handleClose}),o.a.createElement("div",{className:"container"},h,o.a.createElement("p",{className:"related_title"},"More Like this"),p))}}]),t}(n.Component)),je=Object(v.e)(Ae),De=Object(v.e)(Object(r.b)(function(e){return{imgs:e.posts.imgs,singleImg:e.posts.singleImg,isLoadingSingleImg:e.posts.isLoadingSingleImg,isLoadingGetImgs:e.posts.isLoadingGetImgs,isLoadingSaveImg:e.posts.isLoadingSaveImg,totalPage:e.posts.totalPage}},function(e){return{getSingleImg:function(t){e(re(t))},initImgs:function(t){e(ne(t))},getImgsList:function(t,a){e(oe(t,a))}}})(function(e){return o.a.createElement(je,e)})),ke=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:"",username:"",hasUsernameError:!1,hasEmailError:!1,hasPasswordError:!1,errorMsg:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.hasEmailError,o=t.hasPasswordError,i=t.email,s=t.password,r=t.username;n||o||""===i||""===s||""===r||(he.a.auth().createUserWithEmailAndPassword(i,s).catch(function(e){""!==e&&a.setState({email:"",password:"",username:"",hasEmailError:!0,errorMsg:"The email address is already in use by another account."})}),he.a.auth().onAuthStateChanged(function(e){e&&e.updateProfile({displayName:a.state.username}).then(function(){e.displayName})}))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.isLoggedIn;he.a.auth().onAuthStateChanged(function(t){e(!!t),console.log("user",t)})}},{key:"componentDidUpdate",value:function(e){var t=this.props.isAuthenticated;!1===e.isAuthenticated&&!0===t&&this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.hasEmailError,i=t.password,s=t.hasPasswordError,r=t.errorMsg,l=t.hasUsernameError,c=t.username;return o.a.createElement("div",{className:"login_container"},o.a.createElement("div",{className:"login_title"},"Start using Gaze!"),o.a.createElement("form",null,""!==r?o.a.createElement("div",{className:"errorMsg "},o.a.createElement("i",{class:"fas fa-exclamation-circle"}),r):"",o.a.createElement("div",{className:"text_field"},o.a.createElement("div",{className:"".concat(""===a?"input_hide":"input_title")},"Email"),o.a.createElement(ve.Textbox,{attributesInput:{className:"input_field  ".concat(n?"input_empt":""),placeholder:"Place your email here",type:"text"},onChange:function(t,a){e.setState({email:t})},onBlur:function(e){},validationCallback:function(t){return e.setState({hasEmailError:t})},value:a,validationOption:{name:"Email",check:!0,required:!0,customFunc:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?(e.setState({hasEmailError:!1}),!0):(e.setState({hasEmailError:!0}),"Ivalid email address")}}})),o.a.createElement("div",{className:"text_field"},o.a.createElement("div",{className:"".concat(""===c?"input_hide":"input_title")},"Username"),o.a.createElement(ve.Textbox,{attributesInput:{className:"input_field  ".concat(l?"input_empt":""),placeholder:"Place your username here",type:"text"},onChange:function(t,a){e.setState({username:t})},onBlur:function(e){},validationCallback:function(t){return e.setState({hasUsernameError:t})},value:c,validationOption:{name:"Username",check:!0,required:!0}})),o.a.createElement("div",{className:"text_field"},o.a.createElement("div",{className:"".concat(""===i?"input_hide":"input_title")},"Password"),o.a.createElement(ve.Textbox,{attributesInput:{className:"input_field  ".concat(s?"input_empt":""),placeholder:"Place your password here (min. 6 char)",type:"password"},onChange:function(t,a){e.setState({password:t})},onBlur:function(e){},validationCallback:function(t){return e.setState({hasPasswordError:t})},value:i,validationOption:{name:"Password",check:!0,required:!0,customFunc:function(t){return String(t).match(/^\w{6,}$/)?(e.setState({hasPasswordError:!1}),!0):(e.setState({hasPasswordError:!0}),"Password cannot less than 6")}}})),o.a.createElement("button",{type:"submit",className:"mid_button ".concat(""===a||""===i||n||s?"disable_button":"common_button"),onClick:this.handleSubmit},"Submit")),o.a.createElement("p",null,"Already have an account? ",o.a.createElement(g.b,{className:"note_button",to:"/login"},"Login")))}}]),t}(n.Component),Te=Object(v.e)(Object(r.b)(function(e){return{isAuthenticated:e.posts.isAuthenticated}},function(e){return{isLoggedIn:function(t){e(le(t))}}})(function(e){return o.a.createElement(ke,e)})),Pe=(a(90),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleHoverOut=function(){a.setState({showDeleteBtn:""})},a.handleLogout=function(){a.props.isLoggedIn(!1),he.a.auth().signOut()};var n=a.props.photoTab;return a.state={photoTab:n,showDeleteBtn:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAuthenticated,a=e.getAllSaves,n=e.getAllCollections,o=e.showTopSearch;t&&(a(he.a.auth().currentUser.email),n(he.a.auth().currentUser.email),o(!0))}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.history,o=a.isAuthenticated,i=a.getAllSaves,s=a.getAllCollections,r=a.isLoadingDeleteSave,l=a.isLoadingDeleteCollection;!1===e.isAuthenticated&&!0===o&&(i(he.a.auth().currentUser.email),s(he.a.auth().currentUser.email)),!0===e.isAuthenticated&&!1===o&&n.push("/"),this.timer=setTimeout(function(){!1===e.isLoadingDeleteSave&&!0===r&&window.location.reload(),!1===e.isLoadingDeleteCollection&&!0===l&&window.location.reload()},600)}},{key:"handleHoverOver",value:function(e){this.setState({showDeleteBtn:e})}},{key:"handleDeleteImg",value:function(e,t){(0,this.props.deleteSingleSave)({email:he.a.auth().currentUser.email,imgId:e,collection:t})}},{key:"handleDeleteCollection",value:function(e){(0,this.props.deleteSingleCollection)({email:he.a.auth().currentUser.email,collection:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.history,i=t.isAuthenticated,s=t.allSaves,r=t.allCollections,l=this.state,c=l.photoTab,u=l.showDeleteBtn,m=o.a.createElement(Ie.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},"no content"!==s.message&&s.map(function(t,i){return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"outter",onMouseOver:function(){return e.handleHoverOver(s[i].id)},onMouseOut:e.handleHoverOut},o.a.createElement("button",{className:u===s[i].id?"save_button":"hide_style",onClick:function(){return e.handleDeleteImg(s[i].imgId,s[i].collection)}},o.a.createElement("i",{className:"fas fa-trash-alt"})),o.a.createElement("li",{key:s[i].imgId,role:"presentation",onClick:function(){return a.push("/images/".concat(s[i].imgId))}},o.a.createElement("div",{className:"preview"},o.a.createElement("div",{className:u===s[i].id?"hover_layer":"hide_style"}),o.a.createElement("img",{src:s[i].content,alt:""})))))})),d=o.a.createElement("div",{className:"item_group_m"},"no content"!==r.message&&r.map(function(t,n){if(r[n])return o.a.createElement("div",{className:"item item_m",onMouseOver:function(){return e.handleHoverOver(t.collection)},onMouseOut:e.handleHoverOut},o.a.createElement("button",{className:u===t.collection?"save_button":"hide_style",onClick:function(){return e.handleDeleteCollection(t.collection)}},o.a.createElement("i",{className:"fas fa-trash-alt"})),o.a.createElement("li",{onClick:function(){return a.push("/collections/".concat(t.collection))}},t.collection,o.a.createElement("img",{className:"preview_img_m",src:t.content,alt:""})))}));return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"profile"},o.a.createElement("div",{className:"username"},i&&he.a.auth().currentUser.displayName,o.a.createElement("button",{className:"logout_button",onClick:this.handleLogout},o.a.createElement("i",{class:"fas fa-sign-out-alt"}),"Logout")),o.a.createElement("div",{className:"profile_subtitle"},"Photos ","no content"!==s.message?s.length:0," | Collections ","no content"!==s.message?r.length:0)),o.a.createElement("div",{className:"tab_bar"},o.a.createElement("button",{type:"button",className:c?"tab_item_active":"tab_item",onClick:function(){return a.push("/saves/photos")}},"Photos"),o.a.createElement("button",{type:"button",className:c?"tab_item":"tab_item_active",onClick:function(){return a.push("/saves/collections")}},"Collections")),o.a.createElement("ul",null,c?m:d))}}]),t}(n.Component)),xe=Object(v.e)(Object(r.b)(function(e){return{isAuthenticated:e.posts.isAuthenticated,isLoadingAllSaves:e.posts.isLoadingAllSaves,allSaves:e.posts.allSaves,allCollections:e.posts.allCollections,isLoadingAllCollections:e.posts.isLoadingAllCollections,isLoadingDeleteSave:e.posts.isLoadingDeleteSave,isLoadingDeleteCollection:e.posts.isLoadingDeleteCollection}},function(e){return{getAllSaves:function(t){e(function(e){return{type:"ALL_SAVES",payload:ee(e)}}(t))},getAllCollections:function(t){e(ce(t))},deleteSingleSave:function(t){e(ue(t))},showTopSearch:function(t){e(se(t))},isLoggedIn:function(t){e(le(t))},deleteSingleCollection:function(t){e(function(e){return{type:"DELETE_COLLECTION",payload:(t=e,fetch("https://joandes.com/Gaze/api/collection.php",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}))};var t}(t))}}})(function(e){return o.a.createElement(Pe,e)})),Ge=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleHoverOut=function(){a.setState({showDeleteBtn:""})},a.state={currentCollection:decodeURI(a.props.match.params.collectionName),showDeleteBtn:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.currentCollection,t=this.props,a=t.isAuthenticated,n=t.getCollectionSaves;a&&n(he.a.auth().currentUser.email,e)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.currentCollection,n=this.props,o=n.history,i=n.isAuthenticated,s=n.getCollectionSaves,r=n.isLoadingDeleteSave,l=n.deleteSaveMsg;!1===e.isAuthenticated&&!0===i&&s(he.a.auth().currentUser.email,a),!0===e.isAuthenticated&&!1===i&&o.push("/"),this.timer=setTimeout(function(){!1===e.isLoadingDeleteSave&&!0===r&&(""===l&&window.location.reload(),o.goBack())},600)}},{key:"handleHoverOver",value:function(e){this.setState({showDeleteBtn:e})}},{key:"handleDelete",value:function(e,t){(0,this.props.deleteSingleSave)({email:he.a.auth().currentUser.email,imgId:e,collection:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isAuthenticated,i=t.collectionSaves,s=t.history,r=this.state,l=r.currentCollection,c=r.showDeleteBtn;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"profile"},o.a.createElement("div",{className:"username"},a&&l),o.a.createElement("div",{className:"profile_subtitle"},"Photos ",i.length)),o.a.createElement("ul",null,o.a.createElement(Ie.a,{breakpointCols:{default:3,1100:2,700:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},i&&i.map(function(t,a){return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"outter",onMouseOver:function(){return e.handleHoverOver(i[a].id)},onMouseOut:e.handleHoverOut},o.a.createElement("button",{className:c===i[a].id?"save_button":"hide_style",onClick:function(){return e.handleDelete(i[a].imgId,l)}},o.a.createElement("i",{className:"fas fa-trash-alt"})),o.a.createElement("li",{key:i[a].imgId,role:"presentation",onClick:function(){return s.push("/images/".concat(i[a].imgId))}},o.a.createElement("div",{className:"preview"},o.a.createElement("div",{className:c===i[a].id?"hover_layer":"hide_style"}),o.a.createElement("img",{src:i[a].content,alt:""})))))}))))}}]),t}(n.Component),Me=Object(v.e)(Object(r.b)(function(e){return{isAuthenticated:e.posts.isAuthenticated,isLoadingCollectionSaves:e.posts.isLoadingCollectionSaves,collectionSaves:e.posts.collectionSaves,isLoadingDeleteSave:e.posts.isLoadingDeleteSave,deleteSaveMsg:e.posts.deleteSaveMsg}},function(e){return{getCollectionSaves:function(t,a){e(function(e,t){return{type:"COLLECTION_SAVES",payload:te(e,t)}}(t,a))},deleteSingleSave:function(t){e(ue(t))}}})(function(e){return o.a.createElement(Ge,e)})),Fe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.isLoggedIn;he.a.auth().onAuthStateChanged(function(t){t&&e(!0)})}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,a=e.isLoggedIn;return o.a.createElement(g.a,null,o.a.createElement("div",null,o.a.createElement(me,{isAuthenticated:t,isLoggedIn:a}),o.a.createElement("div",null,o.a.createElement(v.a,{exact:!0,path:"/",render:function(){return o.a.createElement(we,{isAuthenticated:t})}}),o.a.createElement(v.a,{path:"/images/:imgId",render:function(){return o.a.createElement(De,{isAuthenticated:t})}}),o.a.createElement(v.a,{path:"/login",render:function(){return o.a.createElement(Ee,{isAuthenticated:t,isLoggedIn:a})}}),o.a.createElement(v.a,{path:"/signup",render:function(){return o.a.createElement(Te,{isAuthenticated:t,isLoggedIn:a})}}),o.a.createElement(v.a,{path:"/search/:query",render:function(){return o.a.createElement(we,{isAuthenticated:t})}}),o.a.createElement(v.a,{path:"/saves/photos",render:function(){return o.a.createElement(xe,{photoTab:!0,topSearch:!0})}}),o.a.createElement(v.a,{path:"/saves/collections",render:function(){return o.a.createElement(xe,null)},topSearch:!0}),o.a.createElement(v.a,{path:"/collections/:collectionName",render:function(){return o.a.createElement(Me,{topSearch:!0})}}))))}}]),t}(n.Component),Ue=Object(r.b)(function(e){return{isAuthenticated:e.posts.isAuthenticated}},function(e){return{isLoggedIn:function(t){e(le(t))}}})(function(e){return o.a.createElement(Fe,e)}),qe=a(50);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach(function(t){Object(qe.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ve={navText:"/",imgs:[],isLoadingGetImgs:!1,isLoadingRandomImgs:!1,queryTxt:"",isLoadingSynonym:!1,syn:[],topSearch:!0,singleImg:{},isLoadingSingleImg:!1,isLoadingLogIn:!1,isAuthenticated:!1,allCollections:[],isLoadingAllCollections:!1,isLoadingSaveImg:!1,isLoadingAllSaves:!1,allSaves:[],isLoadingDeleteSave:!1,deleteSaveMsg:"",isLoadingCollectionSaves:!1,collectionSaves:[],isLoadingPreviewImg:!1,previewImg:{},isLoadingDeleteCollection:!1};var Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return He({},e,{navText:t.value});case L:return He({},e,{queryTxt:t.value});case I:return He({},e,{imgs:t.value});case N:return He({},e,{isLoadingGetImgs:!0});case _:return He({},e,{isLoadingGetImgs:!1,imgs:e.imgs.concat(t.payload.results),totalPage:t.payload.total_pages});case C:return He({},e,{isLoadingRandomImgs:!0});case O:return He({},e,{isLoadingRandomImgs:!1,imgs:e.imgs.concat(t.payload),totalPage:50});case w:return He({},e,{isLoadingSynonym:!0});case A:return He({},e,{isLoadingSynonym:!1,syn:t.payload});case j:return He({},e,{topSearch:t.value});case D:return He({},e,{isLoadingSingleImg:!0});case k:return He({},e,{isLoadingSingleImg:!1,singleImg:t.payload});case T:return He({},e,{isAuthenticated:t.value});case P:return He({},e,{isLoadingAllCollections:!0});case x:return He({},e,{isLoadingAllCollections:!1,allCollections:t.payload});case G:return He({},e,{isLoadingSaveImg:!0});case M:return He({},e,{isLoadingSaveImg:!1});case F:return He({},e,{isLoadingAllSaves:!0});case U:return He({},e,{isLoadingAllSaves:!1,allSaves:t.payload});case q:return He({},e,{isLoadingDeleteSave:!0});case R:return He({},e,{isLoadingDeleteSave:!1,deleteSaveMsg:t.payload});case H:return He({},e,{isLoadingCollectionSaves:!0});case V:return He({},e,{isLoadingCollectionSaves:!1,collectionSaves:t.payload});case B:return He({},e,{isLoadingPreviewImg:!0});case z:return He({},e,{isLoadingPreviewImg:!1,previewImg:t.payload});case W:return He({},e,{isLoadingDeleteCollection:!0});case Y:return He({},e,{isLoadingDeleteCollection:!1});default:return e}};a(91),a(42);he.a.initializeApp({apiKey:"AIzaSyBX20Fb46oiimCL7df9UN1Vt_A2DcI7o5I",authDomain:"gaze-8975.firebaseapp.com",projectId:"gaze-8975"});he.a;var ze=Object(l.c)({nav:Be,posts:Be}),We=Object(l.d)(ze,Object(l.a)(c.a));s.a.render(o.a.createElement(r.a,{store:We},o.a.createElement(Ue,null)),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.0985f789.chunk.js.map